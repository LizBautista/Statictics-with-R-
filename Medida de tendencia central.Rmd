---
title: "<center>**Medidas de tendencia central**</center>"
author: <center>*Practical statistic with R - Chapter 1*</center>
output:
  html_document: default
  pdf_document: default
---

```{r setup, include=FALSE}
# Librerias
library(dplyr)
library(tidyr)
library(ggplot2)
library(vioplot)
library(corrplot)
library(gmodels)
library(matrixStats)
library( tables )

```
<br>
<br>
<div style="text-align: justify">Son medidas estadísticas que se usan para describir la localización de los datos. Ubican e identifican el punto alrededor del cual se centran los datos. Las medidas de tendencia central nos indican hacia donde se inclinan o se agrupan más los datos. Las más utilizadas son: la media, la mediana y la moda.<div/>
<br>

## **Media aritmética**

<div style="text-align: justify">La media aritmética es el valor obtenido de la suma de todas las observaciones y su división por
el total por el número de observaciones que hay en el grupo de datos.<div/>
<center>
![](https://raw.githubusercontent.com/LizBautista/Statictics-with-R-/main/Images/mean.PNG)
</center>
```{r}
# Data
state <- read.csv("https://raw.githubusercontent.com/LizBautista/Statictics-with-R-/main/state.csv")

# Selet a subset
state<-state[1:10,]


knitr::kable(state, digits = 1, align = "lccc", caption = "State data" )

# Calculate the mean 

# Option 1
suma<-sum(state$Population) # Sum of the elements of the population variable
n<-length(state$Population) # Sets the length of a vector
mean_1<-suma/n 
print(mean_1)
# Option 2
mean_2<-mean(state$Population) # Mean arithmetic of the Population variable.
print(mean_2)

```

## **Media aritmética acotada**

Una media acotada elimina la influencia de valores extremos; ya que, se excluye cierto porcentaje de datos extremos de la muestra ordenada. Una vez que se han
eliminado los valores indicados de cada extremo, se calcula el promedio de los valores
restantes.
<br>
<br>
<center>
![](https://raw.githubusercontent.com/LizBautista/Statictics-with-R-/main/Images/trimmed%20mean.PNG)
</center>
```{r }
state_ordenado <- state[order(state$Population), ] # Order the sample to obtain the trimmed mean
knitr::kable(state_ordenado, digits = 1, align = "lccc", caption = "State data" )
mean(state_ordenado[['Population']], trim=0.2) # In the variable population, the upper and lower 20% of data from the ordered sample are eliminated.
```
## **Media aritmética ponderada**

Hay dos motivaciones principales para usar una media ponderada:
<ul>
<li>Algunos valores son intrínsecamente más variables que otros, y las observaciones muy variables reciben un peso menor. Por ejemplo, si tomamos el promedio de varios sensores y uno de los sensores es menos preciso, entonces podríamos reducir el peso de los datos de ese sensor. </li>
<li>Los datos recopilados no representan igualmente a los diferentes grupos que nos interesa medir. Por ejemplo, debido a la forma en que se realizó un experimento en línea, es posible que no tengamos un conjunto de datos que refleje con precisión todos los grupos en la base de usuarios. Para corregir eso, podemos dar un mayor peso a los valores de los grupos que estaban subrepresentados. </li>
</ul> 
<br>
<br>
<center>
![](https://raw.githubusercontent.com/LizBautista/Statictics-with-R-/main/Images/weighted%20mean.PNG)
</center>
```{r }
x <- c(3.7,3.3,3.5,2.8) # Object containing the values whose weighted mean is to be computed.
wt <- c(5,  5,  4,  1) # Numerical vector of weights the same length as x giving the weights to use for elements of x
wm <- weighted.mean(x, wt) # Weighted arithmetic mean
```

## **Mediana**
La mediana es el número del medio en una lista ordenada de datos. Si hay un par número de valores de datos, el valor medio es uno que no está realmente en el conjunto de datos, sino más bien el promedio de los dos valores que dividen los datos ordenados en superior y mitades inferiores. En comparación con la media, que utiliza todas las observaciones, la mediana depende solo de los valores en el centro de los datos ordenados. Si bien esto puede parecer ser una desventaja, ya que la media es mucho más sensible a los datos, hay muchos casos en los que la mediana es una mejor métrica para la ubicación. 

<br>
<br>
<center>
</center>
```{r }
# Vector
x <- c(3.7,3.3,3.5,2.8) 

# Option 1 
m_1<- median(x, na.rm = FALSE) # na.rm is a logical value indicating whether NA values should be stripped before the computation proceeds.
print(m_1)
```
```{r }
# Option 2 
m_2<-quantile(x,0.5) # The median is the 50th percentile
print(m_2)
```
## **Moda**
La moda es el valor que aparece con mayor frecuencia en un conjunto de datos
<br>
<br>
<center>
</center>
```{r }
#install.packages("modeest") 
library(modeest)
knitr::kable(trees, digits = 1, align = "ccc", caption = "Trees data" )

# Option 1 
mlv(trees$Volume, method = "mfv")
```
```{r }
#Option 2 
moda=function(x) {
    q=table(x)
    q=sort(q,TRUE)
    return(q[1])
}
moda(trees$Volume)

```